{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["// Copyright (c) 2017 Tealium Inc.  All Rights Reserved.\n\nvar TEAL = TEAL || {\n  tag_functions : []\n};\n\nif (typeof require === \"function\") {\n  TEAL.url = require('url');\n  TEAL.https = require('https');\n}\n\n\n/*! Build: 2018-07-05 */\n\n/**\n *\n * Tealium JS (beta)\n *\n * @version 5.0.3\n *\n * @license\n * Copyright (c) 2018 Tealium Inc.  All Rights Reserved.\n *\n */\nvar Tealium=function(t,e){\"use strict\";function n(){return{wait:!1,blocking:!1}}function r(){}function i(t){return at[t]}function o(t,e){\"addSharedTag\"===t?W(e):\"callback\"===t?e():at[t]=e}function a(t,e){_t[t]&&!i(Ot)&&_t[t](\"TEALIUM:\"+et,e)}function u(t,e){var n;i(Et)&&(n=t,z.typeOf(t)===Dt?e=Dt:(n=z.copy(t),e=e||Pt),st.push(n),a(e,n))}function s(t){var e,n,r;if(i(Et)){for(r=[],e=0;e<t.length;e+=1)n=z.copy(t[e]),r.push(n);st.push(r),a(Pt,r)}}function c(t){return(t+\"\").replace(/[()<>@,;:\\\\\"/[\\]?={}$]/g,\"\")}function f(t){return z.startsWith(t,\"data.udo.\")?t.substr(9):z.startsWith(t,\"data.dom.\")?t.substr(5):z.startsWith(t,\"data.firstparty_tealium_cookies.\")?$t+t.substr(32):z.startsWith(t,\"dataLayer.\")?t.substr(10):t}function l(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(f(t[e]));return n}function d(t,e){var n=f(t);return n===t?t:e[n]}function g(t,e){var n,r,i,o,a,s,c,f;if(r=z.getFirstKey(t),a=r,f=\"undefined\",!z.startsWith(r,Qt)){if(z.contains(r,\"operator\")||z.contains(r,\"operand\"))return s=d(t.operand1,e),c=d(t.operand2,e),void 0!==V[t.operator]&&V[t.operator](s,c);z.isEmpty(e[r])||(f=e[r]),void 0!==t?a=z.getFirstKey(t[r]):u(\"Error: Incorret syntax when attempting to read key value of '\"+r+\"'\")}switch(a){case oe:return i=new RegExp(t[r][oe]),null!==(f=\"\"+f).match(i);case ae:return!1===t[r][ae]&&\"undefined\"===f||!0===t[r][ae]&&\"undefined\"!==f;case ue:return f===t[r][ue];case se:for(n in z.getKeys(t[r][se]))if(f===t[r][se][n])return!0;return!1;case ne:o=!1;for(n in z.getKeys(t[ne]))o=o||g(t[ne][n],e);return o;case re:o=!0;for(n in z.getKeys(t[re]))o=o&&g(t[re][n],e);return o;case ie:o=!1;for(n in z.getKeys(t[ie]))o=o||g(t[ie][n],e);return!o}}function p(t,e){var n,r={};for(r[0]=!0,n=0;n<t.length;n+=1)r[t[n].id]=g(t[n].rule,e);return r}function m(t,e){var n,r,i=[];for(n=0;n<Z.length;n+=1)r=Z[n],z.contains(t,r.id)&&i.push(r);return p(i,e)}function h(t,e){var n;if(0===t.length)return!1;for(n=0;n<t.length;n+=1)if(!1===e[t[n]])return!1;return!0}function v(t,e){var n;for(n=0;n<t.length;n+=1)if(!0===e[t[n]])return!0;return!1}function y(t,e){function n(t){var e=\"Tag:\"+b+\":\"+I;s(z.typeOf(t)===de?[e].concat(t):[e,t])}function r(){return F}function o(t){var e,n,r,i;if((F=t||[]).length>0)for(e=0;e<F.length;e+=1)i=F[e].id||e,(n=K[i]=F[e]).id=i,n.rule&&(r=G(n.rule),n.rule_ids=[r]);else K={}}function a(t){var e;if((P=t||[]).length>0)for(e=0;e<P.length;e+=1)U[P[e].id]=P[e];else U={}}function c(){return z.typeOf(w)===ce}function l(t){w=t}function d(t,e){var n;(n=c()||z.isEmpty(t)||z.isEmpty(e)?j(b,N):t)>-1&&l(e[n][2])}function g(t,e){x.globals=x.globals||{},z.merge(x,t,1),I=x.id,b=x.name,N=x.version,o(x.actions),C=x.rule_ids||[],A=x.once||!1,z.isEmptyObject(x.tag)||(x.tag.actions&&x.tag.actions.length>0&&o(x.tag.actions),a(x.tag.functions),I=x.tag.id||I,b=x.tag.name||b,N=x.tag.version||N,k=x.tag.vendor_config||k,d(x.tag.tag_function_index,e))}function p(t){return x.config[t]}function y(){return!z.isEmpty(p(kt))}function _(t){var e;for(e in z.getKeys(t))if(p(e)!==t[e])return!1;return!0}function E(t){return U[t]}function T(t){return K[t]}function O(t){var e=T(t);return void 0===e||void 0===e.mapping?[]:e.mapping}function S(t){var e,n=[],r=T(t);if(r.function_ids)for(e=0;e<r.function_ids.length;e+=1)n.push(E(r.function_ids[e]));return n}var I,C,A,b,N,L,w,R,x={},k={},D={},F=[],P=[],K={},U={},W=0,B=0;return g(t,e),{updateTagSettings:g,load:function(t){var e=this;c()?t(e):!0===i(It)?z.loader({type:pe,src:L,id:I,cb:function(){t(e)}}):n(\"Tag not loaded\")},shouldExecute:function(t,e){return(0===C.length||v(C,t))&&_(e)},hasTagFunction:c,completed:function(t){B+=1,R&&R(t)},setCompletedFunction:function(t){R=t},actionStarted:function(t,e){n(\"actionStarted:\"+e+\":\"+t+\":time:\"+H.util.getCurrentTime())},actionCompleted:function(t,e,r,i){n(\"actionCompleted:\"+e+\":\"+t+\":time:\"+H.util.getCurrentTime()),void 0===r||0===r.size()?this.completed(i):r.processNext()},isSharedLibrary:function(){return p(xt)},isTagContainer:y,debug:n,executeTag:function(t){(!A||A&&W<1)&&(c()?(W+=1,w(this,t,H,pt)):u(\"Tag \"+I+\" is not defined.  Error in tag template file.\",Dt))},getContainedTagIds:function(){return y()?p(kt):[I]},getConfig:p,setConfig:function(t,e){x.config[t]=e},addMappingItem:function(t,e,n){var i,o,a=[];if(void 0===e||null===e)a=r();else for(i=0;i<e.length;i+=1)a.push(T(e[i]));for(o=0;o<a.length;o+=1)void 0===n?a[o].mapping.push(t):a[o].mapping.splice(n,0,t)},getActions:r,setActions:o,getActionById:T,setActionById:function(t,e){K[t]=e},getMappingByActionId:O,setMappingByActionId:function(t,e){var n=T(t);void 0!==n&&(n.mapping=e)},getDataFromMapping:function(t,e){var r,i,o,a,u,s,c,f,l,d,g,p={};for(g=O(t)||[],r=0;r<g.length;r+=1)if(d=g[r],f=d.type,s=d.key,c=void 0===d.value?s:d.value,\"custom\"===d.type)p[s]=c;else if(z.contains(\"<number>\",c)){a=new RegExp(\"^\"+c.replace(\"<number>\",\"(\\\\d+)\")+\"$\");for(o in z.getKeys(e))if(null!==(u=i.match(a))&&void 0!==e[o])if(z.startsWith(f,\"index=\"))for(l=parseInt(f.substring(6))||0,i=0;i<e[o].length;i+=1)p[s.replace(\"<number>\",u[1]).replace(\"<index>\",i+l)]=e[o][i];else p[s.replace(\"<number>\",u[1])]=e[o]}else if(z.startsWith(f,\"index=\")&&void 0!==e[c])for(l=parseInt(f.substring(6))||0,i=0;i<e[c].length;i+=1)p[s.replace(\"<index>\",i+l)]=e[c][i];else void 0!==e[c]&&(p[s]=z.copy(e[c]));return n([\"getDataFromMapping:data\",p]),p},getFunctionListByActionId:S,getMappingLegacy:function(t){var e,n,r,i,o,a={};for(o=O(t)||[],e=0;e<o.length;e+=1)r=\"\",i=(n=o[e]).key,void 0===a[r=\"custom\"===n.type?\"stc.\"+n.value:f(n.type+\".\"+n.value)]?a[r]=i:a[r]=a[r]+\",\"+i;return a},runFunctionsForActionId:function(t,e){var n,r,i;for(i=S(e),n=0;n<i.length;n+=1)r=i[n].rule_ids,z.typeOf(i[n].f)!==ce||0!==r.length&&!h(r,m(r,t))||i[n].f(this,t,H,pt)},getActionsToExecute:function(t){var e,n,i,o=[];for(n=r(),i=0;i<n.length;i+=1)(void 0===(e=n[i]).rule_ids||0===e.rule_ids.length||h(e.rule_ids,m(e.rule_ids,t)))&&o.push(e);return o},getVendorConfig:function(t){return void 0===k[t]?\"\":k[t]},getId:function(){return I},getFile:function(){return L},setFile:function(t){L=t},getName:function(){return b},getVersion:function(){return N},getActionCompletedCountDict:function(){return D},getCompletedCount:function(){return B},getExecutedCount:function(){return W},getExecutionId:function(){return W}}}function _(t){var e,n=\"\";return t.isSharedLibrary()?(e=t.getVersion()||\"latest\",n=nt+\"/t.\"+t.getName()+\".\"+e.replace(/\\./g,\"_\")+\".js\"):n=rt+\"/t.\"+t.getId()+\".js\",n}function E(){return c(at.cookieName||Ut)}function T(t,e,n){function r(){return a}var i=t,o=e,a=n||ee;return{read:function(){return o.read(i)||\"\"},write:function(t){z.typeOf(t)===le?o.write(i,t,z.getCurrentTime(\"ms\")+1e3*r()):u(\"Attempt to persist data that is not a string\",Dt)},setConfig:function(t){o=t},setExpireSeconds:function(t){a=t},getExpireSeconds:r,getType:function(){return o.type},setKey:function(t){i=t},getKey:function(){return i}}}function O(){var n,r,a,c,f,l,d=[],g={};if(z.typeOf(at)===de){for(f=0;f<at.length;f+=1)\"config\"===(l=at[f])[0]?\"callback\"===l[1]?d.push([l[2]]):\"addSharedTag\"===l[1]||\"addTag\"===l[1]?d.push([W,l[2]]):\"init\"===l[1]?(g.account=l[2][0],g.profile=l[2][1],g.environment=l[2][2],g.datasource=l[2][3]):g[l[1]]=l[2]:\"track\"===l[0]?ut.push({eventName:l[1],eventData:l[2]}):\"debug\"===l[0]&&u(l[1]);at=g}else ut=e||[],at=t||{};for(M=\"object\"==typeof TEAL?TEAL:at.TEAL||{},at.TEAL&&(M.https=at.TEAL.https||M.https||null,M.url=at.TEAL.url||M.url||null,M.JSON=gt||null,M.getVisitorId=at.TEAL.getVisitorId||null,M.getSessionId=at.TEAL.getSessionId||null,M.persistRead=at.TEAL.persistRead||null,M.persistWrite=at.TEAL.persistWrite||null),M.https=z.isEmpty(M.https)?null:M.https,M.url=z.isEmpty(M.url)?null:M.url,M.FormData=pt.FormData,Q=M.tag_functions||[],at.profile=at.profile||jt,at.environment=at.environment||Gt,tt=[at.account,at.profile,at.datasource].join(\"/\"),et=[at.account,at.profile,at.environment,at.datasource].join(\"/\"),J=M[tt]||{},z.merge(at,J.config,1),s([\"init:config\",at]),Y=J.tag||{},r=J.tags||[],Z=J.rules||[],nt=at[Rt]||Bt,rt=(at[wt]||Wt)+\"/\"+et,it=at.protocol||ht.protocol,z.isEmpty(pt.TEAL)&&(pt.TEAL=M),i(Ct)||o(Ct,zt),n={read:M.persistRead||z.readCookie,write:M.persistWrite||z.writeCookie},!0===i(Nt)&&void 0!==pt.localStorage&&(n.read=function(t){return pt.localStorage.getItem(t)},n.write=function(t,e){return pt.localStorage.setItem(t,e)}),q=new T(E(),n),!0===at[Lt]&&(it=\"https:\"),z.isEmpty(mt.URL)||!1===i(It)?mt.URL=\"\":o(It,!0),z.isEmpty(yt.width)&&(yt.width=0),z.isEmpty(yt.height)&&(yt.height=0),a=0;a<r.length;a+=1)B(null,r[a]);for(c=0;c<d.length;c+=1)d[c][0](d[c][1])}function S(t){function e(t,e){return z.pad(z.toHexString(t||z.random(2)),e)}(dt=t)||(dt=e(z.getCurrentTime(),12)+z.random(16)+e(vt.plugins.length,2)+e(vt.userAgent.length,3)+e(mt.URL.length,4)+e(vt.appVersion.length,2)+e(yt.width+yt.height,4))}function I(t,e){var n,r,i,o,a=t.split(Qt),u={};for(n=0;n<a.length;n+=1)a[n].indexOf(\":\")>0&&(i=(\"\"+(r=a[n].split(\":\"))[1]).split(\"%3Bexp-\"),o=z.decode(i[0]),u[r[0]]=!0===e?{value:o,expire:i[1]||\"\",dataType:\"\"}:o);return u}function C(t){var e,n=I(q.read());return z.isEmpty(t)?n:void 0===(e=n[t])?null:e}function A(){return z.typeOf(M.getVisitorId)===ce?M.getVisitorId():dt}function b(t,e,n,r){var o,a,u,s,f=z.getCurrentTime(),l=[];a=c(t),u=I(q.read(),!0),s=u[Zt]?z.toIntOrZero(u[Zt].value):f+i(Ct),u[a]={value:e,expire:function(t){var e;return z.typeOf(t)===fe&&(t+=\"u\"),t===Jt||\"session\"===t?Jt:z.isEmpty(t)?\"\":(e=z.toIntOrZero(t.substring(0,t.length-2)),t.indexOf(\"u\")>-1?e:t.indexOf(\"h\")>-1?f+e*Xt:f+e*te)}(n),dataType:r},u[Zt]={value:f+i(Ct),expire:\"\"};for(o in z.getKeys(u))!z.isEmpty(u[o].expire)&&function(t){if(t===Jt){if(f>s)return!0}else if(z.toIntOrZero(t)<f)return!0;return!1}(u[o].expire)||l.push(function(t,e){var n,r=e.value+\"\";return n=t+\":\"+z.encode(r.replace(/;exp-/g,\"\")),z.isEmpty(e.expire)||(n+=\"%3Bexp-\"+e.expire),n}(o,u[o]));q.write(l.join(Qt))}function N(){}function L(t){z.isEmpty(t)?u(\"Error setting session Id value.  Value is empty or undefined\",Dt):ot=t+\"\"}function w(){return z.typeOf(M.getSessionId)===ce?M.getSessionId():ot||z.getCurrentTime(\"ms\")}function R(){var t=\"\"+ht.hostname,e=t.split(\".\"),n=/\\.co\\.|\\.com\\.|\\.org\\.|\\.edu\\.|\\.net\\.|\\.asn\\.|\\...\\.jp$/.test(t)?3:2;return i(bt)||e.splice(e.length-n,n).join(\".\")}function x(){return i(At)||R()}function k(t,e){var n,r,o,a,u,c,f,l,d,g,p,m,h,v=z.getCurrentTime(\"ms\");if(!i(St)&&!0===i(It)){b(Ht,A()),(g=C())[Mt]?(L(g[Mt]),g[Vt]=1+z.toIntOrZero(g[Vt])):(N(),L(v),g[Vt]=1,g[Yt]=1+z.toIntOrZero(g[Yt]),b(Mt,w(),Jt),b(Yt,g[Yt])),b(Vt,g[Vt]),p=z.readCookie();for(m in z.getKeys(p))m!==E()&&m!==q.getKey()&&(e[$t+m]=p[m]);for(h in z.getKeys(g))if(\"\"!==h)switch(h){case Ht:case Mt:case Zt:break;case Vt:e.tealium_session_event_number=z.toIntOrZero(g[h]);break;case Yt:e.tealium_session_number=z.toIntOrZero(g[h]);break;default:e[(!0===i(Nt)?qt:$t)+E()+\"_\"+h]=g[h]}e.tealium_session_id=e.tealium_session_id||w(),e.tealium_visitor_id=e.tealium_visitor_id||A()}if(l=\"\"+ht.search,d=\"\"+ht.hash,i(It)&&(e[\"dom.referrer\"]=mt.referrer,e[\"dom.title\"]=\"\"+mt.title,e[\"dom.domain\"]=\"\"+ht.hostname,e[\"dom.query_string\"]=l.substring(1),e[\"dom.hash\"]=d.substring(1),e[\"dom.url\"]=\"\"+mt.URL,e[\"dom.pathname\"]=\"\"+ht.pathname,e[\"dom.viewport_height\"]=pt.innerHeight||(mt.documentElement?mt.documentElement.clientHeight:960),e[\"dom.viewport_width\"]=pt.innerWidth||(mt.documentElement?mt.documentElement.clientWidth:960)),(n=ht.search+d.replace(\"#\",\"&\")).length>1)for(r=n.substring(1).split(\"&\"),u=0;u<r.length;u+=1)(o=r[u].split(\"=\")).length>1&&(e[\"qp.\"+o[0]]=z.decode(o[1]));for(n=mt.getElementsByTagName(\"meta\"),r=0;r<n.length;r+=1){c=\"\";try{c=n[r].name||n[r].getAttribute(\"property\")||\"\"}catch(t){c=\"\"}\"\"!==c&&(e[\"meta.\"+c]=n[r].content)}a=new Date,f=z.typeOf(a.toISOString)===ce,i(St)||!0===i(Nt)||\"\"===x()||(e.tealium_cookie_domain=x()),\"\"!==R()&&(e.tealium_domain=R()),e.tealium_event=t,e.tealium_account=e.tealium_account||i(\"account\"),e.tealium_profile=e.tealium_profile||i(\"profile\"),e.tealium_environment=e.tealium_environment||i(\"environment\"),e.tealium_datasource=e.tealium_datasource||i(\"datasource\"),e.tealium_random=z.random(16),e.tealium_library_name=\"tealium.js\",e.tealium_library_version=\"5.0.3\",e.tealium_timestamp_epoch=Math.floor(a.getTime()/1e3),e.tealium_timestamp_utc=f?a.toISOString():\"\",a.setHours(a.getHours()-a.getTimezoneOffset()/60),e.tealium_timestamp_local=f?a.toISOString().replace(\"Z\",\"\"):\"\",s([\"buildFullDataLayer:OUTPUT\",e])}function D(){}function F(t,e){var n,r,i=[];for(r=0;r<ct.length;r+=1)(n=ct[r]).shouldExecute(t,e)&&i.push(n);return i}function P(t,e,n,i){var o,a,u,s,c,f,l;for(f=F(t,n),i=i||r,l=z.TaskQueue(i),o=0;o<f.length;o+=1)l.add(f[o].getId());if(0!==f.length)for(a=0;a<f.length;a+=1)f[a].load(function(t){for(c=t.getContainedTagIds(),u=0;u<c.length;u+=1)(s=ft[c[u]]).hasTagFunction()||(s.isSharedLibrary()?s.updateTagSettings({tag:{tag_function_index:j(s.getName(),s.getVersion())}},Q):s.updateTagSettings({tag:Y[c[u]]},Q)),s.executeTag(z.copy(e));l.process(t.getId())});else i()}function K(t,e,n){if(i(Tt))u(\"Config setting: \"+Tt+\" is set.  The track call execution halted.\");else{s([\"track\",t,e,n]);var o,a,c={},f={},l=r;if(z.typeOf(t)!==de)z.typeOf(t)===le?(a=t,c=z.typeOf(e)===le?{}:z.copy(e)||{},z.typeOf(n)===ce&&(l=n)):z.typeOf(t)===ge?(a=(c=z.copy(t)).tealium_event||c.event_name||c.event||Kt,z.typeOf(e)===ce&&(l=e)):a=Kt,!0===c.tealium_debug?at.debug=!0:!1===c.tealium_debug&&(at.debug=!1),k(a,c),D(c,{before_rules:!0}),f=p(Z,c),D(c,{before_rules:!1},f),P(f,c,{blocking:!0},function(){P(f,c,{wait:!1,blocking:!1},function(){}),z.on({readyState:\"interactive\"},function(){P(f,c,{wait:!0,blocking:!1},function(){setTimeout(l,120)})})});else for(z.typeOf(e)===ce&&(l=e),o=0;o<t.length;o+=1)t[o].eventName||t[o].eventData?K(t[o].eventName,t[o].eventData,l):K(t[o],l)}}function U(t){i(Tt)||(D({},{preloader:!0}),i(St)||(S(C(Ht)),b(Ht,A())),t.length>0&&K(t))}function j(t,e){var n;for(n=0;n<Q.length;n+=1)if(t===Q[n][0]&&(void 0===e||e===Q[n][1]))return n;return-1}function G(t){var e={};return e.id=parseInt(z.getCurrentTime(\"ms\")+\"\"+Z.length),e.rule=t,Z.push(e),e.id}function W(t){var e=t;if(e.config=e.config||n(),e.config[xt]=!0,e.tag={},e.tag.vendor_config=e.vendor_config||t,void 0!==e.name)return void 0===e.version&&u(\"addSharedTag:Missing tag version, will use latest version\",Ft),B(null,e)}function B(t,e){var r,i,o,a,u,s=z.getCurrentTime(\"ms\")+z.random(3);if(i={tag:{}},z.merge(i,e),z.isEmpty(Y[i.id])?z.typeOf(t)===de?(i.tag.vendor_config=i.vendor_config||e||{},i.tag.tag_function_index=Q.length,i.tag.id=s,i.tag.name=t[0],Q.push(t)):i.tag.vendor_config=i.vendor_config||e||{}:z.merge(i.tag,Y[i.id]),i.id=i.id||s,i.name=i.name||t[0],i.config=i.config||n(),r=new y(i,Q),z.typeOf(t)!==de&&r.setFile(_(r)),ft[i.id]=r,ct.push(r),r.isTagContainer())for(o=r.getContainedTagIds(),u=0;u<o.length;u+=1)a=o[u],ft[a]=new y({id:a,config:r.config});return r}var H,M,Y,V,Z,Q,q,J,z,X,tt,et,nt,rt,it,ot,at=t,ut=[],st=[],ct=[],ft={},lt={},dt=\"\",gt=\"object\"==typeof JSON?JSON:at.JSON,pt=\"object\"==typeof window?window:at.window||{},mt=\"object\"==typeof document?document:at.document||{getElementsByTagName:function(){return[]},createElement:function(){return{}}},ht=pt.location||{protocol:\"https:\",hostname:\"\"},vt=pt.navigator&&pt.navigator.userAgent?pt.navigator:{plugins:[],userAgent:\"\",appVersion:\"\"},yt=pt.screen||{},_t=\"object\"==typeof console?console:pt.console||{},Et=\"debug\",Tt=\"no_load\",Ot=\"no_console\",St=\"no_persist\",It=\"is_web\",Ct=\"session_duration\",At=\"cookie_domain\",bt=\"root_domain\",Nt=\"use_local_storage\",Lt=\"force_https\",wt=\"path\",Rt=\"path_shared\",xt=\"use_shared_library\",kt=\"contains_tag_ids\",Dt=\"error\",Ft=\"warn\",Pt=\"log\",Kt=\"content_viewed\",Ut=\"TEAL\",jt=\"main\",Gt=\"prod\",Wt=\"//tags.tiqcdn.com/tms\",Bt=\"//tags.tiqcdn.com/shared/tms\",Ht=\"v\",Mt=\"s\",Yt=\"sn\",Vt=\"en\",Zt=\"t\",Qt=\"$\",$t=\"cp.\",qt=\"ls.\",Jt=\"sess\",zt=18e5,Xt=36e5,te=24*Xt,ee=31536e3,ne=\"$or\",re=\"$and\",ie=\"$nor\",oe=\"$regex\",ae=\"$exists\",ue=\"$eq\",se=\"$in\",ce=\"function\",fe=\"number\",le=\"string\",de=\"array\",ge=\"object\",pe=\"script\";return z={JSON:gt,startsWith:function(t,e,n){var r,i;return r=t+\"\",i=e+\"\",!0===(n||{}).ignoreCase&&(r=r.toLowerCase(),i=i.toLowerCase()),r.substr(0,i.length)===i},endsWith:function(t,e,n){var r,i,o,a;return r=t+\"\",i=e+\"\",!0===(n||{}).ignoreCase&&(r=r.toLowerCase(),i=i.toLowerCase()),o=r.length-i.length,-1!==(a=r.lastIndexOf(i,o))&&a===o},getCurrentTime:function(t,e){var n,r=new Date;switch(!0===e&&r.setHours(r.getHours()-r.getTimezoneOffset()/60),n=r.getTime(),t){case\"ms\":return n;case\"s\":return Math.floor(n/1e3);case\"iso\":return!0===e?r.toISOString().replace(\"Z\",\"\"):r.toISOString();default:return n}},toIntOrZero:function(t){var e=parseInt(t,10);return z.isEmpty(e)?0:e},toBool:function(t){var e=t+\"\";return!0===t||\"true\"===e.toLowerCase()||1===z.toIntOrZero(e)},sum:function(t){var e,n=0;for(e=0;e<t.length;e+=1)n+=t[e];return n},toHexString:function(t){return\"\"+z.toIntOrZero(t).toString(16)},pad:function(t,e){var n,r,i;for(i=e-(r=\"\"+t).length,n=0;n<i;n+=1)r=(100*Math.random()).toString().substring(0,1)+r;return r},random:function(t){var e=\"\"+Math.random();return t=t||16,z.pad(e.substring(2,t+2))},url:function(t){var e,n;return(n=t+\"\").indexOf(\"http\")<0&&0!==n.indexOf(\"//\")&&(n=\"//\"+n),M.url?M.url.parse(n,!1,!0):(e=mt.createElement(\"a\"),e.href=n,e)},request:function(t,e){var n,i;e=e||r,t.url||(t.url=\"https://\"+t.hostname+t.path),s([\"util.request (options)\",t]),\"POST\"===t.method?M.https?(void 0===t.hostname&&(t.hostname=z.url(t.url).hostname),void 0===t.path&&(t.path=z.url(t.url).path),(n=M.https.request(t,e)).on(\"error\",function(t){u(t)}),n.write(t.data),n.end()):pt.FormData&&(n=new XMLHttpRequest,i=new pt.FormData,n.addEventListener(\"readystatechange\",function(){e(n)}),n.open(\"post\",t.url,!0),n.withCredentials=!0,i.append(\"data\",t.data),n.send(i)):\"GET\"===t.method&&(M.https?M.https.get(t.url,function(t){e(t)}):pt.Image&&((n=new pt.Image).src=t.url,e()))},hasOwn:function(t,e){return null!==t&&void 0!==t&&Object.prototype.hasOwnProperty.call(t,e)},isEmptyObject:function(t){var e;for(e in t)if(z.hasOwn(t,e))return!1;return!0},typeOf:function(t){return lt.toString.call(t).match(/\\s([a-zA-Z]+)/)[1].toLowerCase()},isEmpty:function(t){switch(z.typeOf(t)){case fe:return isNaN(t);case\"boolean\":return!1;case le:return 0===t.length}return z.isEmptyObject(t)},removeEmptyKeys:function(t){var e;for(e in z.getKeys(t))z.isEmpty(t[e])&&delete t[e];return t},readCookie:function(t){var e,n,r,i,o,a={};for(n=(\"\"+mt.cookie).split(\"; \"),e=0;e<n.length;e+=1)if(z.contains(n[e],\"=\")&&(r=n[e].split(\"=\"),i=r[0]||\"\",o=r[1]||\"\",\"\"!==i&&(a[i]=o),i===t))return o;return z.isEmpty(t)?a:null},expireCookie:function(t){z.writeCookie(t,\"\",-1)},writeCookie:function(t,e,n){var r=\"\",i=new Date;t+\"\"===c(t)&&(i.setTime(n||z.getCurrentTime()+31536e6),r=t+\"=\"+e+\";expires=\"+i.toGMTString()+\";path=/;domain=\"+x(),z.typeOf(mt.cookie)===le&&(mt.cookie=r))},getKeys:function(t){var e,n={};for(e in t)z.hasOwn(t,e)&&(n[e]=!0);return n},flatten:function(t,e){function n(t,i,o){var a,u=o;if(z.typeOf(t)!==ge)r[i]=t;else if(!z.isEmptyObject(t)&&u<e){u+=1;for(a in z.getKeys(t))n(t[a],i?i+\".\"+a:a,u)}}var r={};return e=e||5,n(t,\"\",0),r},copy:function(t){var e,n,r=z.typeOf(t);if(r===ge){n={};for(e in z.getKeys(t))z.typeOf(t[e])===de?n[e]=t[e].slice(0):n[e]=t[e]}else n=r===de?t.slice(0):t;return n},decode:function(t,e){e=\"\";try{e=decodeURIComponent(t)}catch(t){u(t)}return\"\"===e&&(e=pt.unescape(t)),e},encode:function(t,e){e=\"\";try{e=encodeURIComponent(t)}catch(t){u(t)}return\"\"===e&&(e=pt.escape(t)),e},merge:function(t,e,n){var r;if(n)for(r in z.getKeys(e))t[r]=e[r];else for(r in z.getKeys(e))void 0!==t[r]&&null!==t[r]||(t[r]=e[r])},loader:function(t){var e,n,r,i,o;e=mt,\"iframe\"===t.type?(n=(o=e.getElementById(t.id))&&\"IFRAME\"===o.tagName?o:e.createElement(\"iframe\"),t.attrs=t.attrs||{},z.merge(t.attrs,{height:\"1\",width:\"1\",style:\"display:none\"},0)):\"img\"===t.type||\"GET\"===t.type?(u(\"GET: \"+t.src),void 0!==pt.Image&&(n=new pt.Image)):((n=e.createElement(\"script\")).language=\"javascript\",n.type=\"text/javascript\",n.charset=\"utf-8\",n.async=!0),t.id&&(n.id=t.id);for(i in z.getKeys(t.attrs))n.setAttribute(i,t.attrs[i]);n.setAttribute(\"src\",t.src),\"function\"==typeof t.cb&&(n.addEventListener?n.addEventListener(\"load\",function(){t.cb()},!1):n.onreadystatechange=function(){\"complete\"!==this.readyState&&\"loaded\"!==this.readyState||(this.onreadystatechange=null,t.cb())}),\"img\"===t.type||o||(i=t.loc||\"head\",(r=e.getElementsByTagName(i)[0])&&(u(\"Attach to \"+i+\": \"+t.src),\"script\"===i?r.parentNode.insertBefore(n,r):r.appendChild(n)))},getFirstKey:function(t){var e;if(z.typeOf(t)===ge){if(Object.keys)return Object.keys(t)[0];for(e in t)if(z.hasOwn(t,e))return e}return\"\"},delay:function(t,e,n){var r=e,i=n;setTimeout(function(){r(i)},t)},contains:function(t,e,n){var r,i,o,a;if(i=e+\"\",o=t+\"\",!0===(a=n||{}).ignoreCase&&(i=i.toLowerCase(),o=o.toLowerCase()),z.typeOf(t)===le){if(o.indexOf(i)>-1)return!0}else if(z.typeOf(t)===de)for(r=0;r<t.length;r+=1)if(o=t[r]+\"\",!0===a.ignoreCase&&(o=o.toLowerCase()),o===i||a.substringInArray&&o.indexOf(i)>-1)return!0;return!1},on:function(t,e){function n(){i||(i=!0,e())}var r,i=!1;t.readyState&&(\"interactive\"===t.readyState&&(mt.attachEvent?\"complete\"===mt.readyState:\"loading\"!==mt.readyState)?setTimeout(n,1):\"interactive\"===t.readyState&&(u(\"readyState is currently: \"+mt.readyState),mt.addEventListener?(r=function(){mt.removeEventListener(\"DOMContentLoaded\",r,!1),n()},mt.addEventListener(\"DOMContentLoaded\",r,!1),pt.addEventListener(\"load\",n,!1)):mt.attachEvent?(r=function(){\"complete\"===mt.readyState&&(mt.detachEvent(\"onreadystatechange\",r),n())},mt.attachEvent(\"onreadystatechange\",r),pt.attachEvent(\"onload\",n)):setTimeout(n,1)))},TaskQueue:function(t){function e(){var t,e=0;for(t in z.getKeys(i))i[t]&&(e+=1);return e}function n(t,e){i[t]=!0,o[t]=e,a.push(t)}var r,i={},o={},a=[],u=!1;return{size:e,add:n,addList:function(t,e,r){var i;for(i=0;i<t.length;i+=1)n(t[i][e],r)},setDelay:function(t){r=t},process:function(n){u=!0,!1!==i[n]&&(i[n]=!1,z.typeOf(o[n])===ce&&o[n](n),0===e()&&z.typeOf(t)===ce&&t())},processNext:function(){var t,e;for(t=0;t<a.length;t+=1)if(e=a[t],!0===i[e]){void 0===r||!1===u?this.process(e):z.delay(r,this.process,e);break}}}}},X={LOWERCASE_PROPERTY:function(t,e){var n,r,i;if(i=t[e],z.typeOf(i)===de)for(n=0;n<i.length;n+=1)r=i[n]+\"\",i[n]=r.toLowerCase();else r=t[e],t[e]=r.toLowerCase()},JOIN_ATTRIBUTES:function(t,e,n,r){var i,o,a=[];for(o=void 0===r?\"\":r,i=0;i<e.length;i+=1)a.push(t[e[i]]);t[n]=a.join(o)}},V={CONTAINS:function(t,e){return z.contains(t,e)},CONTAINS_IGNORE_CASE:function(t,e){return z.contains(t,e,{ignoreCase:!0})},DOES_NOT_CONTAIN:function(t,e){return!z.contains(t,e)},DOES_NOT_CONTAIN_IGNORE_CASE:function(t,e){return!z.contains(t,e,{ignoreCase:!0})},CONTAINS_SUBSTRING:function(t,e){return z.contains(t,e,{substringInArray:!0})},CONTAINS_SUBSTRING_IGNORE_CASE:function(t,e){return z.contains(t,e,{ignoreCase:!0,substringInArray:!0})},ARRAY_CONTAINS:function(t,e){return z.contains(t,e)},ARRAY_DOES_NOT_CONTAIN:function(t,e){return!z.contains(t,e)},ENDS_WITH:function(t,e){return z.endsWith(t,e)},STARTS_WITH:function(t,e){return z.startsWith(t,e)},ENDS_WITH_IGNORE_CASE:function(t,e){return z.endsWith(t,e,{ignoreCase:!0})},STARTS_WITH_IGNORE_CASE:function(t,e){return z.startsWith(t,e,{ignoreCase:!0})},EQUALS:function(t,e){return t+\"\"==e+\"\"},EQUALS_IGNORE_CASE:function(t,e){var n=e+\"\";return(t+\"\").toLowerCase()===n.toLowerCase()},DOES_NOT_EQUAL:function(t,e){return!V.EQUALS(t,e)},DOES_NOT_EQUAL_IGNORE_CASE:function(t,e){return!V.EQUALS_IGNORE_CASE(t,e)},IS_EMPTY:function(t){return z.isEmpty(t)},IS_NOT_EMPTY:function(t){return!z.isEmpty(t)},LESS_THAN:function(t,e){return t<e},LESS_THAN_OR_EQUAL_TO:function(t,e){return V.LESS_THAN(t,e)||V.EQUALS(t,e)},GREATER_THAN:function(t,e){return t>e},GREATER_THAN_OR_EQUAL_TO:function(t,e){return V.GREATER_THAN(t,e)||V.EQUALS(t,e)},IS_EXECUTED:function(t){var e=ft[t];return!!(e&&e.getCompletedCount()>0)},IS_TRUE:function(t){return!0===z.toBool(t)},IS_FALSE:function(t){return!1===z.toBool(t)},IS_ASSIGNED:function(t){return!z.isEmpty(t)},IS_NOT_ASSIGNED:function(t){return z.isEmpty(t)}},O(),H={constant:{BOOLEAN_TYPE:\"boolean\",STRING_TYPE:le,NUMBER_TYPE:fe,FUNCTION_TYPE:ce,ARRAY_TYPE:de,OBJECT_TYPE:ge,CONFIG_FORCE_HTTPS:Lt,CONFIG_IS_WEB:It,COOKIE_SESSION_EXPIRE_STRING:Jt,COOKIE_COLLECT_REGION:\"cr\",TAG_CONFIG_USE_SHARED_LIBRARY:xt,LOAD_TYPE_SCRIPT:pe},addModule:B,addRule:G,addSharedTag:W,setGlobalConfig:o,getGlobalConfig:i,config:function(t,e){return void 0===t?at:void 0===e?i(t):void o(t,e)},getVisitorId:A,setVisitorId:S,getSessionId:w,setSessionId:L,getProtocol:function(){return it},getHostRootDomain:R,getTealiumPersistKeyName:E,getTealiumCookieDomain:x,setPersistentDataKey:function(t){q.setKey(t)},addPersistentData:b,removePersistentData:function(t){b(t,\"\",z.getCurrentTime()-1e3)},getPersistentData:C,rule:V,transform:X,log:st,util:z,debug:u,debugMultiple:s,track:K},i(\"test_mode\")&&(H.test={init:O,emptyCallbackFunction:r,emptyObject:lt,PersistData:T,run:U,runFunctions:D,buildFullDataLayer:k,doTransform:function(t,e){switch(t.name){case\"LOWERCASE_PROPERTY\":X.LOWERCASE_PROPERTY(e,f(t.propertyName));break;case\"JOIN_ATTRIBUTES\":X.JOIN_ATTRIBUTES(e,l(t.attributeList),f(t.outputAttributeName),t.delimiter)}},evaluateRule:g,evaluateRules:p,getTagsToLoadAndExecute:F,buildTagFilePath:_,Tag:y,runTags:P,tagFunctionList:Q,parsePersistentDataString:I,trackFirstPageViewInNewSession:N}),U(ut),H};!function(){\"use strict\";var t,e,n,r,i;if(\"object\"==typeof window)if((t=window).TEAL){for(e in TEAL)if(void 0!==(n=TEAL[e].config)){if(i=n.global_object||\"tealium\",void 0!==(r=t[i])&&void 0!==r.callback&&!n.callback_called)return n.callback_called=!0,void r.callback();if(void 0!==r&&\"function\"==typeof r.config.callback&&!n.callback_called)return n.callback_called=!0,void r.config.callback()}}else t.tealium&&(t.TEAL={tag_functions:[]},setTimeout(t.tealium.callback,1))}(),\"object\"==typeof module&&module.exports&&(module.exports=Tealium);"]}